# system tools
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -CF'
alias ls='ls -G'
alias grep='grep --color=auto'
alias ping='prettyping'
alias du="ncdu --color dark -rr -x --exclude .git --exclude node_modules --exclude .wercker"

# various commands
alias v='vagrant'
alias tf='terraform'
alias tg='terragrunt'
alias gc='gcloud'
alias gcca='gcloud config configurations activate'
alias a='ansible'
alias ap='ansible-playbook'

# editor
alias vi='vim'

# docker
alias dr="docker run --rm -it"

# grep
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
	
# kubernetes
alias kk='HTTPS_PROXY=localhost:8888 kubectl'
alias kkns='HTTPS_PROXY=localhost:8888 kns'
alias kk9s='HTTPS_PROXY=localhost:8888 k9s'
alias kk9r='HTTPS_PROXY=localhost:8888 k9s --readonly'
alias kstern='HTTPS_PROXY=localhost:8888 stern'
alias khelm='HTTPS_PROXY=localhost:8888 helm'
alias k='kubectl'
alias kc='kubectl config'
alias kpf='kubectl port-forward'
alias kex='kubectl exec -it'
alias kgvs='kubectl get virtualservice'
alias kevs='kubectl edit virtualservice'
alias kggw='kubectl get gateway'
alias kegw='kubectl edit gateway'
alias kgy='kubectl get -o yaml'
alias kd='kubectl describe'
alias kdel='kubectl delete'
alias kkill='kubectl delete --force --grace-period=0 pod'
alias kg='kubectl get'
alias kgp='kubectl get pods -o wide'
alias kgpa='kubectl get pods -o wide --all-namespaces'
alias kgpar="kubectl get pods -o wide --all-namespaces | grep -v -E '(Running|Completed)'"
alias kgps="kubectl get pods -o wide --all-namespaces --sort-by='{.status.containerStatuses[:1].restartCount}'"
alias podgrep='kubectl get pods -o wide --all-namespaces | grep '
alias svcgrep='kubectl get service --all-namespaces | grep '
alias kl='kubectl logs --follow=true'
alias i='istioctl'
alias mk='minikube'

# getting crazy with kubectl
ked(){
    kget_line=$(kubectl get deploy --all-namespaces --no-headers | grep ${1}| head -1)
    if [ "${kget_line}" == "" ]; then
      echo "No deployment found"
      return 1
    fi
    ns=$(echo ${kget_line} | awk '{print $1}')
    deployment=$(echo ${kget_line} | awk '{print $2}')
    echo "Editing deployment ${deployment} in namespace ${ns}..."
    kubectl edit deployment --namespace=${ns} ${deployment}
}

# git
alias g='git'
alias gp='git pull'
alias gs='git status'

# dirs
alias n='cd ${HOME}/netsec'
alias nsa='cd ${HOME}/netsec/scionlab-ansible'
alias nna='cd ${HOME}/netsec/netsec-ansible'
alias nst='cd ${HOME}/netsec/scion-tutorials'

